const intro_tour = new Tour({
                  name: 'first_introduction',
                  framework: 'bootstrap4',
                  steps: [
                            {
                                        element: "#intro_tour_button",
                                        title: "Welcome to QUOREM",
                                        content: "This is a tour of QUOREM's QIIME2 artifact upload process.<br/>Navigate with the Prev/Next buttons or with the arrow keys.",
                                        placement: "left"
                                      },
                          {             element: "#leftnav",
                                        title: "Navigation Links",
                                        content: "Links on the left navigate to object lists. Click <b>Next</b> to go to the Process list",
                                        placement: "right"},
                          {             element: "#list",
                                        title: "Process List",
                                  content: "This list populates with the Processes (workflows or pipelines) performed by your team.<br/>For example, a \"QIIME2 DADA2 ASV Pipeline\" may be a Process.",
                                        path: "/process/all"},
                          {             element: "#createDropdown",
                                        title: "Creating Objects",
                                  content: "Objects can be created from the Create New menu. <br/>Let's create an Analysis.<br/> Open the </b>Create New<b> menu to continue the tour.</b>",
reflex: true, reflexOnly: true},
                          {             element: "#createAnalysis",
                                        title: "Creating an Analysis",
                                        content: "Click on <b>Analysis</b> to go to the Analysis creation page.",
				  reflex: true, reflexOnly: true,
                                        delayOnElement: {
                                            delayElement: "element", // use string literal "element" to wait for this step's element, i.e.: #btnDontForgetThis
                                            maxDelay: 5000  // wait 5 seconds for it to appear before timing out
        }},
                         {path: "/analysis/create/",
                          element: "#id_name",
                          title: "Creating an Analysis",
                         content: "Data is uploaded to a specific Analysis. An Analysis is a concept that organizes Results from a given run or execution of a Process. An Analysis is an instantiation of a Process, such as a wetlab protocol or a computational pipeline.<br/><br/><b>Give your Analysis a unique name.</b>"},
			 {element: "#id_process",
		          title: "Specify a Process",
		          content: "Each Analysis represents a Process that has been performed. This can be a computational pipeline, such as specific QIIME2 workflow.<br/><b>Select \"QIIME2 ASV Pipeline\" from the dropdown to continue.</b>"},
			  {
				          element: function () {
						              return $(document).find(".btn-primary");
						          },
				          title: "Save your Analysis",
				          content: "Click <b>Save Analysis</b> to save your Analysis",
				          reflex: true,
				          reflexOnly: true
				      },
			  {element: "#id_name",
		           title: "Welcome to your new Analysis!",
		           content: "This is the page for your Analysis. It will fill up with links to the Results that have been uploaded to it."},
			  {element: function(){return $("a[href$='/upload/artifact'][class='nav-link']")},
				  title: "Go to Upload Artifact page",
				  reflex: true, reflexOnly: true,
				  content: "Now we will upload a QIIME2 artifact to this Analysis.<br/>Click <b>Upload Artifact</b> to continue."},
			  {element: "#id_analysis",
			   title: "Select Analysis",
		           content: "Select the Analysis that you created earlier.",
                           delayOnElement: { delayElement: "element"}
			  },
			  {element: "#id_upload_file",
				  title: "Select QIIME2 File",
				  content: "Browse your filesystem for a QIIME2 .qza or .qzv artifact file. Any will do!"},
	{				          element: function () {
						              return $(document).find(".btn-primary");
						          },
				          title: "Upload QIIME2 Artifact",
				          content: "Click <b>Upload</b> to upload your QIIME2 artifact to QUOREM",
				          reflex: true,
				          reflexOnly: true
				      },
                         {element: function(){return $("span[name$='upload_status']")},
                          title: "Processing...",
                          content: "Your file is now processing. Depending on the file size and type, this could take a few seconds to several minutes.",
                          delayOnElement: { delayElement: "element"}},
                         {element: function(){return $(document).find(".fa-envelope")},
                          title: "Your Inbox",
                          content: "Updates on the upload process will be sent to your mailbox. Click on the letter icon to see if your artifact is finished processing.",
                          reflex: true,
                          reflexOnly: true},
                         {element: "#inbox",
                          title: "Messages",
                          delayOnElement: { delayElement: "element"},
                          content: "Your messages will show up here. When the uploaded artifact is finished processing, it will appear here.<br/>You can refresh until it is processed. Then click on the mail item to see the message.", reflex:true, reflexOnly: true},
                         {element: "#mail-message",
                          delayOnElement: { delayElement: "element"},
                          placement: 'bottom',
                          title: "Result",
                          content: "The link in this message will take you to the page that describes the data you just uploaded. Click the link.",
                          reflex: true, reflexOnly: true},
                         {element: "#btnDownloadGroup",
                          delayOnElement: { delayElement: "element"},
                          title: "Re-Download your File",
                          content: "Using the Download As... button, you can re-download the file you have uploaded."},
                         {element: "#id_name",
                          delayOnElement: { delayElement: "element"},
                          title: "UUID",
                          content: "This name is a UUID, or a unique identifier, generated by QIIME so that we never mix up your files."},
                         {element: "#id_analysis",
                          title: "Analysis",
                          content: "This is the Analysis that you created earlier and uploaded this data to."},
                         {element: "#id_source_step",
                          title: "Source Step",
                          content: "This is the source Step for this Result. For QIIME2 artifacts, the Step is the plugin name followed by double underscores and then the command name."},
                         {element: "#id_parameters",
                          title: "Parameters",
                          content: "This section shows the parameters that were used in the command that created this Result. If a parameter is bolded, that means that it is not the default parameter."},
                         {element: "#graph0",
                          title: "Provenance Graph",
                          content: "This is the provenance graph. It shows how the file was created by showing the Process, Analysis, and Step involved. A number of the Features and Samples involved in this Result (if any) are shown here."},
                         {element: "#headingsamples",
                          title: "Samples",
                          content: "These are all of the Samples related to this Result. These are automatically added to the database if they are discovered in the QIIME artifact. It is there important to use unique names for your samples within QIIME."},
                         {element: "#headingfeatures",
                          title: "Features",
                          content: "These are all of the Features related to this Result. Features are typically microorganisms described at some level, but can be any concept that quantified within Samples, such as functional gene abundance."},
                        {element: "#id_value_accordion",
                         title: "Values",
                         content: "Values are general data and metadata that is linked to a given concept. In the case of a Result, this can be the date the Result was generated, the versions of software used, and more."},
                       {element: "#id_graph",
                        title: "Workflow Graph",
                        placement: 'left',
                        content: "This hyperlinked graph shows the other Result files that were used in the creation of this file, as well as any downstream files if they have been uploaded. It gives an overview of the other Results that are related to this Result."},
                       {element: "#leftnav",
                        title: "End of the Tour",
                        content: "Congratulations! You've reached the end of the tour. You have successfully uploaded and viewed a QIIME artifact file!<br/>What's next? Click around and explore the data on the server. Thanks for touring with us!"}
                      

                  ]});
// If we don't start this on each page, it won't catch when we send people around from page to page
intro_tour.start();
